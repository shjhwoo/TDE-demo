[mariadb]
# 1. File Key Management 플러그인 로드
plugin_load_add = file_key_management

# 2. 암호화 키 파일 위치 지정
file_key_management_filename = /etc/mysql/encryption/keys.enc

# 3. 키 파일을 해독할 비밀번호 파일 위치
file_key_management_filekey = FILE:/etc/mysql/encryption/password

# 4. 암호화 알고리즘 (AES_CBC 추천)
file_key_management_encryption_algorithm = AES_CBC

# (선택) 임시 테이블 및 로그 암호화
encrypt_tmp_disk_tables = 1
encrypt_tmp_files = 1
encrypt_binlog = 1

# 5. InnoDB 테이블스페이스 암호화 설정
# 테이블 단위로 암호화 가능하게도 설정
innodb_file_per_table=ON

# 강제로 모든 테이블을 암호화 하려면 아래 설정을 해줘야 한다
# innodb_encrypt_tables = FORCE

innodb_encrypt_log = ON
innodb_encryption_threads = 4
innodb_encryption_rotate_key_age = 1

